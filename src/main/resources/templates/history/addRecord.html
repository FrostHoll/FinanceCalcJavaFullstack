<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Добавить запись</title>
</head>
<body>
<h3>Добавление записи</h3>
<form action="#" th:action="@{/history/add}" th:object="${record}" method="post">
    <fieldset>
        <ul th:if="${#fields.hasErrors('*')}" class="errorlist">
            <li th:each="err : ${#fields.errors('*')}" th:text="${err}">Input is incorrect</li>
        </ul>

        <p>Сумма: <br>
            <input type="number" step="0.01" th:field="*{amount}" th:errorclass="fieldError">
        </p>
        <p>Описание: <br>
            <input type="text" th:field="*{description}">
        </p>
        <p>Тип записи: <br>
            <select th:field="*{recordType}">
                <option th:each="type : ${allTypes}"
                        th:value="${type}"
                        th:text="#{${'record.type.' + type}}">...
                </option>
            </select>
        </p>
        <p>Категория: <br>
            <select th:field="*{category}">
                <option th:value="null">-- Не выбрано --</option>
                <option th:each="type : ${categories}"
                        th:value="${type.getId()}"
                        th:text="${type.getDescription()}">...
                </option>
            </select>
        </p>
        <p>Кредит: <br>
            <select th:field="*{loan}">
                <option th:value="null">-- Не выбрано --</option>
                <option th:each="type : ${loans}"
                        th:value="${type.getId()}"
                        th:text="${type.getLoanInfo()}">...
                </option>
            </select>
        </p>
        <p>Дата записи: <br>
            <input type="datetime-local" required th:field="*{recordDate}" th:errorclass="fieldError">
        </p>

        <p>
            <input type="submit" value="Сохранить">
        </p>
    </fieldset>
</form>
</body>
</html>